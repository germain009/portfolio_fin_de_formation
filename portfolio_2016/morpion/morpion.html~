<!DOCTYPE html>
<html lang="en">
	<head>
	    <meta charset="UTF-8">
            <title>Document</title>
	    <link type="text/css" rel="stylesheet" href="morpion.css" />
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
               
                
	</head>
	    <body>
                <div class="container">
                    <h1 id="debut">croix ou rond</h1>
                        <div class="grille">

				<script>

				function tab(a,b){

				    var tbl = [];

				    var lignes = 0 ;

				    while(lignes < a )
				    {
					tbl[lignes] = [] ;

				    var colonnes = 0 ;

				    while(colonnes < b)
				    {
					tbl[lignes][colonnes] = ' ' + ' ';
					colonnes ++ ;

				    }

				    lignes ++ ;

				    }

				    document.write('<table id="table">');

				    for(var i = 0 ; i < tbl.length ; i ++)

				    {
					document.write('<tr>')

					for(var j = 0 ; j < tbl[i].length ; j ++)
					{

					      

					    document.write('<td class="td" style="height:50px;width:50px;border:1px solid white">');
					    document.write(tbl[i][j]);
					    document.write('</td>');
					}

					document.write('</tr>');
				    }

					document.write('</table>');

				}

				tab(3,3);




				</script>
                   


					<div id="infos"><p class="p">nouvelle partie</p></div>
                        </div>
					<div class="score">
					<h1 class="croix">croix</h1>
					<h2 id="score_croix">0</h2>
					<h1 class="rond">rond</h1>
					<h2 id="score_rond">0</h2>
					</div>

			

				    

	
				<script>


				     
				    var tour = 0;
				function rond()
				{
					if(this.innerHTML == "x" || this.innerHTML == "o")
					{
					    alert('');
					}
					else if(tour % 2 == 0)
					{
					    tour++;
					    this.innerHTML = "o";
					    this.style.color="white";
					    
					}
					else 
					{
					    tour++;
					    this.innerHTML = "x";
					    this.style.color="white";
					    
					}
		

				};
				     



				    var tour = 0;
				function croix()
				{
					if(this.innerHTML == "x" || this.innerHTML == "o")
					{

					    alert('');
					}
					else if(tour % 2 == 0)
					{
					    tour++;
					    this.innerHTML = "x";
					    this.style.color="white";
					    
					}
					else
					{
					    tour++;
					    this.innerHTML = "o";
					    this.style.color="white";
					    
					}
				    
				       
				};

					    


				function gagne(){

					 var td = document.querySelectorAll('.td');
					 var deb =document.getElementById('debut');
					 var table =document.getElementById('table');
					 for(var i = 0 ; i < td.length ; i ++ )
					 {


					    if((td[0].innerHTML=="x" && td[1].innerHTML=="x" && td[2].innerHTML=="x")|| (td[3].innerHTML=="x" && td[4].innerHTML=="x" && td[5].innerHTML=="x")||(td[6].innerHTML=="x" && td[7].innerHTML=="x" && td[8].innerHTML=="x")||(td[0].innerHTML=="x" && td[4].innerHTML=="x" && td[8].innerHTML=="x")||(td[2].innerHTML=="x" && td[4].innerHTML=="x" && td[6].innerHTML=="x")||(td[0].innerHTML=="x" && td[3].innerHTML=="x" && td[6].innerHTML=="x")||(td[1].innerHTML=="x" && td[4].innerHTML=="x" && td[7].innerHTML=="x")||(td[2].innerHTML=="x" && td[5].innerHTML=="x" && td[8].innerHTML=="x"))
					    {
						 

						alert('croix gagne');
						     
						var c = document.getElementById('score_croix');
						c.innerHTML = parseInt(c.innerHTML)+ 1;
						deb.innerHTML="rejouer" ;
						table.style.border="2px solid lime";
						    tour = 0 ;
				
					    for(var i = 0 ; i < td.length ; i ++ )
					    {
						td[i].innerHTML=" ";
					    }
					      return false;
					    }
					    

					    else if ((td[0].innerHTML=="o" && td[1].innerHTML=="o" && td[2].innerHTML=="o")|| (td[3].innerHTML=="o" && td[4].innerHTML=="o" && td[5].innerHTML=="o")||(td[6].innerHTML=="o" && td[7].innerHTML=="o" && td[8].innerHTML=="o")||(td[0].innerHTML=="o" && td[4].innerHTML=="o" && td[8].innerHTML=="o")||(td[2].innerHTML=="o" && td[4].innerHTML=="o" && td[6].innerHTML=="o")||(td[0].innerHTML=="o" && td[3].innerHTML=="o" && td[6].innerHTML=="o")||(td[1].innerHTML=="o" && td[4].innerHTML=="o" && td[7].innerHTML=="o")||(td[2].innerHTML=="o" && td[5].innerHTML=="o" && td[8].innerHTML=="o"))

					    {
						 
						 

						alert('rond gagne');
						     
						var r = document.getElementById('score_rond');
						r.innerHTML = parseInt(r.innerHTML)+1;
						deb.innerHTML="rejouer" ;
						table.style.border="2px solid orange";
						    tour = 0 ;

						   
						   
					    for(var i = 0 ; i < td.length ; i ++ )
					    {
						td[i].innerHTML=" ";
					    }
					      return false ;
					    }

					    else if((td[0].innerHTML=="x"|| td[0].innerHTML=="o")&&(td[1].innerHTML=="x"|| td[1].innerHTML=="o")&&(td[2].innerHTML=="x"|| td[2].innerHTML=="o")&&(td[3].innerHTML=="x"|| td[3].innerHTML=="o")&&(td[4].innerHTML=="x"|| td[4].innerHTML=="o")&&(td[5].innerHTML=="x"|| td[5].innerHTML=="o")&&(td[6].innerHTML=="x"|| td[6].innerHTML=="o")&&(td[7].innerHTML="x"|| td[7].innerHTML=="o")&&(td[8].innerHTML=="x"|| td[8].innerHTML=="o"))

					    {

						    alert('egalitÃ©e');
						    deb.innerHTML="rejouer" ;
					    for(var i = 0 ; i < td.length ; i ++ )
					    {
						td[i].innerHTML=" ";
						     tour = 0 ;
					    }
					      

					    }
					    
					     return false ;
					 }


				    };





				function debut()
				{
					var deb =document.getElementById('debut');

		
					var un = Math.floor(Math.random() * 2);

					var td = document.querySelectorAll('.td');

					var deb =document.getElementById('debut');

					for(var i = 0 ; i < td.length ; i ++ )
					{

					if(un == 1)
					{    
					    deb.innerHTML = "croix";
					    td[i].onclick = croix;
					}
					else
					{
					    deb.innerHTML = "rond";
					    td[i].onclick = rond ;
					}
					}
				};



				document.body.onclick= gagne ;

				document.getElementById('infos').onclick = debut;

				</script>
                                <script>
                                    $(document).ready(function(){
                                    $("body").bind("dragover", function(e){
                                    var dragX = e.pageX, dragY = e.pageY;
                                    
                                    console.log("X: "+dragX+" Y: "+dragY);

                                         });
                                    });

                                     


                                </script>
                                </div>
                            </body>
                        </html>
